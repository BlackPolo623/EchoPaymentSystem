# Echo Payment System

ç¾ä»£ç§‘æŠ€æ„Ÿçš„ç·šä¸Šé‡‘æµé–‹å–®ç³»çµ±

## ğŸ“ æª”æ¡ˆçµæ§‹

```
payment-system/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css          # ä¸»é¡Œæ¨£å¼ (æ·¡è—è‰²ç§‘æŠ€æ„Ÿ)
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ script.js          # ä¸»è¦é‚è¼¯
â”‚   â”œâ”€â”€ background-resize.js # èƒŒæ™¯èª¿æ•´
â”‚   â””â”€â”€ htmlcss.js         # è¦–è¦ºæ•ˆæœ
â”œâ”€â”€ php/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â””â”€â”€ index.php      # å¾Œå°ç®¡ç†ä»‹é¢
â”‚   â”œâ”€â”€ funpoint_payment_notify.php  # ä¿¡ç”¨å¡å›èª¿
â”‚   â”œâ”€â”€ atm_payment_notify.php       # ATM ä»˜æ¬¾å›èª¿
â”‚   â”œâ”€â”€ atm_payment_info.php         # ATM å–è™Ÿé€šçŸ¥
â”‚   â”œâ”€â”€ atm_redirect.php             # ATM è³‡è¨Šé¡¯ç¤ºé 
â”‚   â”œâ”€â”€ payment_result.php           # ä»˜æ¬¾çµæœé 
â”‚   â””â”€â”€ payment_return.php           # SmilePay å›èª¿
â”œâ”€â”€ data/                   # äº¤æ˜“è³‡æ–™ç›®éŒ„ (è‡ªå‹•å»ºç«‹)
â”‚   â”œâ”€â”€ transactions.json   # å®Œæˆäº¤æ˜“è¨˜éŒ„
â”‚   â””â”€â”€ pending_atm.json    # ATM å¾…è™•ç†è¨‚å–®
â”œâ”€â”€ image/                  # åœ–ç‰‡ç›®éŒ„ (å¯æ”¾ Logo)
â”œâ”€â”€ index.html              # ä¸»é é¢ (ä»˜æ¬¾è¡¨å–®)
â””â”€â”€ simulate_funpoint_post.html  # æ¸¬è©¦å·¥å…· (ä¸Šç·šå‰åˆªé™¤)
```

## âœ¨ ä¸»è¦åŠŸèƒ½

### 1. ç°¡åŒ–é–‹å–®æµç¨‹
- âŒ ä¸éœ€è¼¸å…¥å¸³è™Ÿ
- âœ… åªéœ€è¼¸å…¥é‡‘é¡å’Œé¸æ“‡ä»˜æ¬¾æ–¹å¼
- âœ… å¿«é¸æŒ‰éˆ• ($100 / $300 / $500 / $1000)

### 2. è¨‚å–®ç·¨è™Ÿæ ¼å¼
- å‰ç¶´ï¼š`ECHO`
- æ ¼å¼ï¼š`ECHO + æ™‚é–“æˆ³ + äº‚æ•¸`
- ç¯„ä¾‹ï¼š`ECHO17356789012343456`

### 3. æ”¯æ´çš„ä»˜æ¬¾æ–¹å¼
- ğŸ’³ ä¿¡ç”¨å¡æ”¯ä»˜
- ğŸ§ ATM è™›æ“¬å¸³è™Ÿè½‰å¸³
- ğŸª 7-11 ibon
- ğŸª å…¨å®¶ FamiPort

### 4. æª”æ¡ˆå¼äº¤æ˜“è¨˜éŒ„
- æ‰€æœ‰äº¤æ˜“è¨˜éŒ„å­˜å„²åœ¨ `data/transactions.json`
- ATM å¾…è™•ç†è¨‚å–®å­˜å„²åœ¨ `data/pending_atm.json`
- ä¸ä½¿ç”¨è³‡æ–™åº«ï¼Œæ–¹ä¾¿éƒ¨ç½²

### 5. å¾Œå°ç®¡ç†
- ç¶²å€ï¼š`/php/admin/`
- é è¨­å¯†ç¢¼ï¼š`echo2024admin`
- åŠŸèƒ½ï¼š
  - çµ±è¨ˆå„€è¡¨æ¿ (ç¸½äº¤æ˜“æ•¸/é‡‘é¡ã€ä»Šæ—¥æ•¸æ“š)
  - å¾…è™•ç† ATM è¨‚å–®åˆ—è¡¨
  - å®Œæ•´äº¤æ˜“è¨˜éŒ„ (åˆ†é é¡¯ç¤º)

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

### 1. ä¸Šå‚³æª”æ¡ˆ
å°‡æ•´å€‹ `payment-system` è³‡æ–™å¤¾ä¸Šå‚³åˆ°æ‚¨çš„ä¼ºæœå™¨

### 2. è¨­å®šæ¬Šé™
```bash
chmod 755 data/
chmod 644 data/*.json
```

### 3. ä¿®æ”¹è¨­å®š
ç·¨è¼¯ `js/script.js` ä¸­çš„ CONFIGï¼š

```javascript
const CONFIG = {
    funpoint: {
        ReturnURL: "https://æ‚¨çš„ç¶²å€/php/funpoint_payment_notify.php",
        ClientBackURL: "https://æ‚¨çš„ç¶²å€/index.html",
        OrderResultURL: "https://æ‚¨çš„ç¶²å€/php/payment_result.php",
        // ...
    }
};
```

### 4. ä¿®æ”¹å¾Œå°å¯†ç¢¼
ç·¨è¼¯ `php/admin/index.php`ï¼š

```php
$adminPassword = 'æ‚¨çš„æ–°å¯†ç¢¼';
```

### 5. å®‰å…¨å»ºè­°
- ä¸Šç·šå‰åˆªé™¤ `simulate_funpoint_post.html`
- ç‚º `data/` ç›®éŒ„æ·»åŠ  `.htaccess` ä¿è­·
- ç‚º `php/admin/` æ·»åŠ é¡å¤–çš„å®‰å…¨æªæ–½

## ğŸ¨ ä¸»é¡Œç‰¹è‰²

- **è‰²èª¿**ï¼šæ·¡è—è‰² (#00d4ff) + æ·±è‰²èƒŒæ™¯ (#0a0e17)
- **å­—é«”**ï¼š
  - æ¨™é¡Œï¼šOrbitron (ç§‘æŠ€æ„Ÿ)
  - å…§æ–‡ï¼šRajdhani (ç¾ä»£)
  - ä»£ç¢¼ï¼šSpace Mono (ç­‰å¯¬)
- **æ•ˆæœ**ï¼š
  - å‹•æ…‹ç¶²æ ¼èƒŒæ™¯
  - è‡ªè¨‚æ¸¸æ¨™å…‰æšˆ
  - æµ®å‹•ç²’å­æ•ˆæœ
  - æ¼¸è®Šé‚Šæ¡†å‹•ç•«

## ğŸ“ äº¤æ˜“è³‡æ–™æ ¼å¼

```json
{
  "id": "NOTIFY_20250131123456_abc12345",
  "merchantTradeNo": "ECHO17356789012343456",
  "tradeNo": "é‡‘æµå¹³å°ç·¨è™Ÿ",
  "amount": 500,
  "paymentType": "CREDIT",
  "paymentDate": "2025-01-31 12:34:56",
  "customField1": "ECHO17356789012343456",
  "status": "SUCCESS",
  "rtnCode": "1",
  "rtnMsg": "äº¤æ˜“æˆåŠŸ",
  "createdAt": "2025-01-31 12:34:56",
  "rawData": { ... }
}
```

## âš ï¸ æ³¨æ„äº‹é …

1. æœ¬ç³»çµ±åƒ…ä¾›é–‹å–®ä½¿ç”¨ï¼Œä¸æœƒé©—è­‰ä½¿ç”¨è€…å¸³è™Ÿ
2. æ‰€æœ‰äº¤æ˜“è¨˜éŒ„ä»¥ JSON æª”æ¡ˆæ–¹å¼å„²å­˜
3. è«‹å®šæœŸå‚™ä»½ `data/` ç›®éŒ„
4. æ¸¬è©¦å·¥å…· (`simulate_funpoint_post.html`) åƒ…ä¾›é–‹ç™¼æ¸¬è©¦ä½¿ç”¨

## ğŸ”§ é‡‘æµè¨­å®š

### æ­è²·å°¬é‡‘æµ (Funpoint)
- MerchantID: `1020977`
- éœ€è¦çš„å›èª¿ URL è¨­å®šè«‹åƒè€ƒ `js/script.js`

### SmilePay
- dcvc: `16761`
- é©ç”¨æ–¼ä¾¿åˆ©å•†åº—ä»˜æ¬¾
